{"version":3,"file":"node-build.mjs","sources":["../../server/routes/demo.ts","../../server/index.ts","../../server/node-build.ts"],"sourcesContent":["import { RequestHandler } from \"express\";\r\nimport { DemoResponse } from \"@shared/api\";\r\nexport const handleDemo: RequestHandler = (req, res) => {\r\n  const response: DemoResponse = {\r\n    message: \"Hello from Express server\",\r\n  };\r\n  res.status(200).json(response);\r\n};\r\n","import express from \"express\";\r\nimport cors from \"cors\";\r\nimport { handleDemo } from \"./routes/demo\";\r\nexport function createServer() {\r\n  const app = express();\r\n  app.use(cors());\r\n  app.use(express.json());\r\n  app.use(express.urlencoded({ extended: true }));\r\n  app.get(\"/api/ping\", (_req, res) => {\r\n    res.json({ message: \"Hello from Express server v2!\" });\r\n  });\r\n  app.get(\"/api/demo\", handleDemo);\r\n  return app;\r\n}\r\n","import path from \"path\";\r\nimport { createServer } from \"./index\";\r\nimport * as express from \"express\";\r\nconst app = createServer();\r\nconst port = process.env.PORT || 3000;\r\nconst __dirname = import.meta.dirname;\r\nconst distPath = path.join(__dirname, \"../spa\");\r\napp.use(express.static(distPath));\r\napp.get(\"*\", (req, res) => {\r\n  if (req.path.startsWith(\"/api/\") || req.path.startsWith(\"/health\")) {\r\n    return res.status(404).json({ error: \"API endpoint not found\" });\r\n  }\r\n  res.sendFile(path.join(distPath, \"index.html\"));\r\n});\r\napp.listen(port, () => {\r\n  //\r\n  //\r\n  //\r\n});\r\nprocess.on(\"SIGTERM\", () => {\r\n  //\r\n  process.exit(0);\r\n});\r\nprocess.on(\"SIGINT\", () => {\r\n  //\r\n  process.exit(0);\r\n});\r\n"],"names":["app","express"],"mappings":";;;;AAEO,MAAM,aAA6B,CAAC,KAAK,QAAQ;AACtD,QAAM,WAAyB;AAAA,IAC7B,SAAS;AAAA,EAAA;AAEX,MAAI,OAAO,GAAG,EAAE,KAAK,QAAQ;AAC/B;ACJO,SAAS,eAAe;AAC7B,QAAMA,OAAMC,iBAAA;AACZ,EAAAD,KAAI,IAAI,MAAM;AACd,EAAAA,KAAI,IAAIC,iBAAQ,MAAM;AACtB,EAAAD,KAAI,IAAIC,iBAAQ,WAAW,EAAE,UAAU,KAAA,CAAM,CAAC;AAC9C,EAAAD,KAAI,IAAI,aAAa,CAAC,MAAM,QAAQ;AAClC,QAAI,KAAK,EAAE,SAAS,gCAAA,CAAiC;AAAA,EACvD,CAAC;AACD,EAAAA,KAAI,IAAI,aAAa,UAAU;AAC/B,SAAOA;AACT;ACVA,MAAM,MAAM,aAAA;AACZ,MAAM,OAAO,QAAQ,IAAI,QAAQ;AACjC,MAAM,YAAY,YAAY;AAC9B,MAAM,WAAW,KAAK,KAAK,WAAW,QAAQ;AAC9C,IAAI,IAAI,QAAQ,OAAO,QAAQ,CAAC;AAChC,IAAI,IAAI,KAAK,CAAC,KAAK,QAAQ;AACzB,MAAI,IAAI,KAAK,WAAW,OAAO,KAAK,IAAI,KAAK,WAAW,SAAS,GAAG;AAClE,WAAO,IAAI,OAAO,GAAG,EAAE,KAAK,EAAE,OAAO,0BAA0B;AAAA,EACjE;AACA,MAAI,SAAS,KAAK,KAAK,UAAU,YAAY,CAAC;AAChD,CAAC;AACD,IAAI,OAAO,MAAM,MAAM;AAIvB,CAAC;AACD,QAAQ,GAAG,WAAW,MAAM;AAE1B,UAAQ,KAAK,CAAC;AAChB,CAAC;AACD,QAAQ,GAAG,UAAU,MAAM;AAEzB,UAAQ,KAAK,CAAC;AAChB,CAAC;"}